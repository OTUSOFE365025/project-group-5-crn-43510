# 1. The Design Process - Iteration 1 - Establishing an Overall System Structure (AIDAP)

This section presents the results of the activities that are performed in each of the steps of **ADD** (Architectural Design Document) in the first iteration of the design process.

---

## 1.1 - Step 1 - Review Inputs

| Category | Details |
| :--- | :--- |
| **Design Purpose** | This is a **greenfield system** from a mature domain. The purpose is to produce a sufficiently detailed design to support the construction of a **unified, conversational interface to institutional data at Ontario Tech University**, focusing on **high availability and performance** while strictly adhering to **security and privacy standards**. |
| **Primary Functional Requirements** | From the use cases presented, the primary drivers were determined to be: <br><br> * **UC-1 (Access Academic Details):** Because it directly supports the core business of providing personalized, accurate student information via a natural-language interface. <br> * **UC-2 (Receive Notifications):** Because it is critical for engaging users and ensuring timely communication, directly impacting the platform's utility. <br> * **UC-5 (Regulate System Integrations):** Because it is crucial for system operations, ensuring secure and reliable connectivity with external institutional systems (LMS, Registration) and maintaining data integrity. |
| **Quality Attribute Scenarios** | The scenarios were described in the Quality Attribute Scenarios section. They have now been prioritized (based on the provided Importance and Difficulty ratings) as follows: <br><br> * **QA-1 (Performance)**: Importance: **High**, Difficulty: **High** <br> * **QA-2 (Availability)**: Importance: **High**, Difficulty: **High** <br> * **QA-3 (Security)**: Importance: **High**, Difficulty: **High** <br> * **QA-4 (Scalability)**: Importance: **High**, Difficulty: **Medium** <br> * **QA-5 (Modifiability)**: Importance: **Medium**, Difficulty: **Medium** |
| **Constraints** | All of the operational and technical boundaries discussed in the System Constraints section are included as drivers: <br><br> * **CON-1 (Scalability Requirement):** Support $\ge 5,000$ concurrent users. <br> * **CON-2 (Cross-Platform Access):** Seamless operation across web and mobile browsers. <br> * **CON-3 (Cloud Deployment Environment):** Hosted on a university-approved cloud service. <br> * **CON-4 (Privacy and Compliance):** Strict adherence to institutional policies. <br> * **CON-5 (Performance Target):** Response time $\le 2$ seconds for most queries. <br> * **CON-6 (Unified AI Backend Models):** Reliance on a single underlying AI backend for both voice and text. |
| **Architectural Concerns** | All of the identified design priorities and risks from the Architectural Concerns section are included as drivers: <br><br> * **CRN-1:** Define Overall Microservice and Integration Structure. <br> * **CRN-2:** Utilize Team’s Knowledge of Python (**FastAPI**) and **React** for UI. <br> * **CRN-3:** Ensure Secure Handling of **SSO** and Personally Identifiable Information. <br> * **CRN-4:** Design for Scalability and Cloud Auto-Deployment. <br> * **CRN-5:** Simplify Integration of Future AI Models and External APIs. <br> * **CRN-6:** Provide Clear Module Responsibility Allocation for Team Members. |

## 1.2 - Step 2 - Establish Iteration Goal by Selecting Drivers

This is the **first iteration** in the design of a greenfield system (**AIDAP**), so the iteration goal is to achieve the **architectural concern CRN-1 of establishing an Overall Microservice and Integration Structure** (see the Architectural Concerns section in Step 1).

Although this iteration is driven by a general architectural concern, the architect must keep in mind all of the **drivers** that may influence the general structure of the system. In particular, the architect must be mindful of the following influential drivers:

* **QA-1 (Performance):** The system must generate and deliver a reply within 2 seconds.
* **QA-2 (Availability):** Fail-over instance must be automatically activated, and the session resumed (Recovery $\le$ 30 seconds for 99.5% uptime).
* **QA-3 (Security):** 100% of unauthorized access attempts must be blocked and recorded.
* **QA-4 (Scalability):** The system must handle 5,000 concurrent users and maintain throughput.
* **CON-2 (Cross-Platform Access):** The platform must work seamlessly across modern web and mobile browsers.
* **CON-3 (Cloud Deployment Environment):** AIDAP will be hosted on a university approved cloud service (such as Azure or AWS Education Tier).
* **CON-5 (Performance Target):** Response time must be $\le$ seconds for most queries.
* **CRN-2 (Utilize Team’s Knowledge):** Leverage team's knowledge of Python (FastAPI) and React for the UI.
* **CRN-3 (Secure Handling of SSO and PII):** Design must ensure compliance with security and privacy laws for handling user data and SSO tokens.
* **CRN-4 (Scalability and Cloud Auto-Deployment):** Architect for horizontal scalability using container orchestration and incorporating CI/CD pipelines.

![alt text](image.png)

## 1.3 - Step 3 - Choose One or More Elements of the System to Refine

The element to refine in the first iteration is the entire **AIDAP system**.

The overall AIDAP system, which is the initial element to be refined in this iteration, is defined by the scope set forth in the business case: integrating core university systems (LMS, registration, calendar) to provide secure, personalized, conversational access to institutional data.

In this first iteration, refinement is performed through **decomposition** driven by the primary architectural concern **CRN-1 (Define Overall Microservice and Integration Structure)** and influenced heavily by the **Security (QA-3)** and **Scalability (QA-4)** quality attribute drivers.

---

## 1.4 - Step 4 - Choose One or More Design Concepts That Satisfy the Selected Drivers

| Design Decisions and Location | Rationale |
| :--- | :--- |
| **Logically structure the system using the Microservice Architecture pattern.** | **Rationale:** The Microservice Architecture (MA) is highly appropriate for AIDAP, as it directly addresses multiple drivers:<ul><li>**CRN-1 (Overall Structure):** MA establishes clear, modular boundaries for core services (NLP, Data Integration, User Management).</li><li>**QA-4 (Scalability):** MA enables horizontal scaling of individual, load-intensive components (like the NLP engine) independently of others.</li><li>**CRN-4 (Cloud Auto-Deployment):** MA is the foundational pattern for container orchestration (Kubernetes) and CI/CD, aligning with the cloud strategy.</li><li>**CRN-5 (Modifiability):** Simplifies the integration of future AI models (Stimulus: Integrates a new AI model) by confining changes to a single service.</li></ul>|
| **Discarded alternatives:** | Monolithic architecture is discarded because it severely complicates scaling critical components (QA-4), auto-deployment (CRN-4), and updating the system (CRN-5). |
| **Logically structure the Client part using a Single-Page Application (SPA) architecture (React).** | **Rationale:** An SPA architecture aligns directly with two key drivers:<ul><li>**CON-2 (Cross-Platform Access):** SPAs built with frameworks like React ensure a consistent, seamless experience across web and mobile browsers.</li><li>**CRN-2 (Team Knowledge):** Utilizes the team’s pre-existing knowledge of the React framework for rapid development and maintainable code.</li></ul>|
| **Discarded alternatives:** | Server-Side Rendered (SSR) Web Application is discarded as it provides a less responsive user experience and makes it harder to achieve a rich, application-like feel on mobile/web platforms (influencing QA-1: Performance perceived latency). |
| **Physically structure the application using the three-tier deployment pattern, implemented with containerization.** | **Rationale:** A containerized three-tier deployment is chosen to meet both structural and operational constraints:<ul><li>**CON-3 (Cloud Deployment):** This pattern is standard for deployment on university-approved cloud services (Azure/AWS).</li><li>**CRN-4 (Scalability/Deployment):** Containerization (Docker/Kubernetes) is the prerequisite for horizontal scaling (QA-4) and automated deployment.</li><li>**CON-5 (Performance Target):** Decoupling the presentation (Tier 1: React SPA), application (Tier 2: FastAPI Microservices), and data (Tier 3: Database) tiers aids in identifying and isolating performance bottlenecks, critical for meeting the $<= 2 \text{ s}$ target.</li></ul>**Note:** To satisfy **QA-2 (Availability)** and **CON-1 (Scalability $\ge$ users)**, Tier 2 and Tier 3 will require redundancy and load balancing (such as database clustering, multiple application instances), which will be addressed in a subsequent iteration. |
| **Adopt a Layered Security Design Pattern and utilize Single Sign-On (SSO) as a core authentication mechanism.** | **Rationale:** This is a crucial decision driven primarily by security and privacy drivers:<ul><li>**QA-3 (Security):** Layered design ensures defense-in-depth, protecting against the Stimulus: Attempts system access by an unauthorized user.</li><li>**CRN-3 (Secure Handling of SSO and PII):** Explicitly addresses the mandatory requirement to integrate with the institution's SSO system and encrypt PII in transit/at rest.</li></ul>|
| **Discarded alternatives:** | Internal User or Password Management is discarded because it violates the security and integration goals (CRN-3) by requiring the system to handle sensitive credentials instead of delegating to the established SSO authority. |
| **Build the backend services using Python with the FastAPI framework.** | **Rationale:** This decision is directly mandated by the technical constraint and knowledge base:<ul><li>**CRN-2 (Utilize Team's Knowledge):** Leverages the development team's existing expertise in Python (FastAPI), maximizing development speed and code maintainability.</li><li>**CON-6 (Unified AI Backend):** Python is the industry standard for AI/NLP models, simplifying the implementation of a single, unified backend model for both voice and text queries.</li></ul>|